<div class="panel panel-default">
  <div class="panel-heading">{{ batch?.skillType }} - Weekly Progress</div>
  <div class="panel-body" *ngIf="!trainee && allBatchGrades$ | async as allBatchGrades">
    <canvas
      id="weekly-progress-line-graph-canvas"
      baseChart
      [options]="chartOptions"
      [chartType]="chartType"
      [labels]="getChartLabels(allBatchGrades)"
      [datasets]="getChartDatasets(allBatchGrades)"
    >
    </canvas>
    <div id="weekly-progress-line-graph-table" class="row">
      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-mg-offset-1 col-xl-offset-1" *ngFor="let week of getBatchWeeks(batch)">
        <p class="weekly-grade-report"><strong>Week {{ week }}</strong> {{ getAverageGrade(week, allBatchGrades) / 100 | percent: '1.2-2' }}</p>
      </div>
    </div>
  </div>
  <div class="panel-body" *ngIf="trainee && allBatchGrades$ | async as allBatchGrades">
    <canvas
      id="weekly-progress-line-graph-canvas"
      baseChart
      [options]="chartOptions"
      [chartType]="chartType"
      [labels]="getTraineeChartLabels(allBatchGrades, trainee?.traineeId)"
      [datasets]="getTraineeChartDatasets(allBatchGrades, trainee?.traineeId)"
    >
    </canvas>
    <div id="weekly-progress-line-graph-table" class="row">
      <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-mg-offset-1 col-xl-offset-1" *ngFor="let week of getBatchWeeks(batch)">
        <p class="weekly-grade-report"><strong>Week {{ week }}</strong> {{ getAverageGrade(week, allBatchGrades) / 100 | percent: '1.2-2' }}</p>
      </div>
    </div>
  </div>
</div>
